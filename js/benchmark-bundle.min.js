// peggy 5.0.6
//
// https://peggyjs.org/
//
// Copyright (c) 2025- the Peggy authors
// Licensed under the MIT License.

function e(e){"@swc/helpers - typeof";return e&&typeof Symbol!=="undefined"&&e.constructor===Symbol?"symbol":typeof e}(function(t,n){if((typeof exports==="undefined"?"undefined":e(exports))=="object"&&(typeof module==="undefined"?"undefined":e(module))<"u"){module.exports=n()}else if("function"==typeof define&&define.amd){define("peggy_benchmark",n)}else{t["peggy_benchmark"]=n()}})((typeof globalThis==="undefined"?"undefined":e(globalThis))<"u"?globalThis:(typeof self==="undefined"?"undefined":e(self))<"u"?self:this,function(){var e={};var t=e;var n={exports:e};"use strict";var s=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}};var i=s(function(e,t){"use strict";var n=globalThis.peggy||require("../lib/peg"),s={run:function e(e,t,s,i){var r={functions:[],add:function e(e){this.functions.push(e)},run:function e(){this.functions.length>0&&(this.functions.shift()(),setTimeout(function(){r.run()},0))}},c={};function a(){i.start(),c.totalInputSize=0,c.totalParseTime=0}function l(e){return function(){i.benchmarkStart(e),c.parser=n.generate(i.readFile("../examples/"+e.id+".pegjs"),s),c.benchmarkInputSize=0,c.benchmarkParseTime=0}}function o(e,n){return function(){i.testStart(e,n);var s=i.readFile(e.id+"/"+n.file),r=0;for(var a=0;a<t;a++){var l=new Date().getTime();c.parser.parse(s),r+=new Date().getTime()-l}var o=r/t;i.testFinish(e,n,s.length,o),c.benchmarkInputSize+=s.length,c.benchmarkParseTime+=o}}function u(e){return function(){i.benchmarkFinish(e,c.benchmarkInputSize,c.benchmarkParseTime),c.totalInputSize+=c.benchmarkInputSize,c.totalParseTime+=c.benchmarkParseTime}}function p(){i.finish(c.totalInputSize,c.totalParseTime)}r.add(a),e.forEach(function(e){r.add(l(e)),e.tests.forEach(function(t){r.add(o(e,t))}),r.add(u(e))}),r.add(p),r.run()}};t.exports=s});var r=s(function(e,t){"use strict";var n=[{id:"json",title:"JSON",tests:[{file:"example1.json",title:"Example 1"},{file:"example2.json",title:"Example 2"},{file:"example3.json",title:"Example 3"},{file:"example4.json",title:"Example 4"},{file:"example5.json",title:"Example 5"}]},{id:"css",title:"CSS",tests:[{file:"blueprint/src/reset.css",title:"Blueprint - reset.css (source)"},{file:"blueprint/src/typography.css",title:"Blueprint - typography.css (source)"},{file:"blueprint/src/forms.css",title:"Blueprint - forms.css (source)"},{file:"blueprint/src/grid.css",title:"Blueprint - grid.css (source)"},{file:"blueprint/src/print.css",title:"Blueprint - print.css (source)"},{file:"blueprint/min/screen.css",title:"Blueprint - screen.css (minified)"},{file:"blueprint/min/print.css",title:"Blueprint - print.css (minified)"},{file:"960.gs/src/reset.css",title:"960.gs - reset.css (source)"},{file:"960.gs/src/text.css",title:"960.gs - text.css (source)"},{file:"960.gs/src/960.css",title:"960.gs - 960.css (source)"},{file:"960.gs/src/960_24_col.css",title:"960.gs - 960_24_col.css (source)"},{file:"960.gs/min/reset.css",title:"960.gs - reset.css (minified)"},{file:"960.gs/min/text.css",title:"960.gs - text.css (minified)"},{file:"960.gs/min/960.css",title:"960.gs - 960.css (minified)"},{file:"960.gs/min/960_24_col.css",title:"960.gs - 960_24_col.css (minified)"}]}];t.exports=n});var c=i(),a=r(),l=location.hash.match(/branch=([^&]*)/i);l=l?l[1]:"main";$("#run").click(function(){var e=function e(e,n,s,i,r){t.append("\n            <tr class='".concat(e,"'>\n                <td class='title'>\n                    ").concat(s!==null?"<a href='"+s+"'>":"","\n                    ").concat(n,"\n                    ").concat(s!==null?"</a>":"","\n                </td>\n                <td class='input-size'>\n                    <span class='value'>\n                        ").concat((i/1024).toFixed(2),"\n                    </span>\n                    &nbsp;<span class='unit'>kB</span>\n                </td>\n                <td class='parse-time'>\n                    <span class='value'>\n                        ").concat(r.toFixed(2),"\n                    </span>\n                    &nbsp;<span class='unit'>ms</span>\n                </td>\n                <td class='parse-speed'>\n                    <span class='value'>\n                        ").concat((i/1024/(r/1e3)).toFixed(2),"\n                    </span>\n                    &nbsp;<span class='unit'>kB/s</span>\n                </td>\n            </tr>\n        "))};var t=$("#results-table");var n=parseInt($("#run-count").val(),10),s={cache:$("#cache").is(":checked")};if(isNaN(n)||n<=0){alert("Number of runs must be a positive integer.");return}c.run(a,n,s,{readFile:function e(e){return $.ajax({type:"GET",url:"https://raw.githubusercontent.com/peggyjs/peggy/".concat(l,"/benchmark/").concat(e),dataType:"text",async:!1}).responseText},testStart:function e(){},testFinish:function t(t,n,s,i){e("individual",n.title,"https://github.com/peggyjs/peggy/blob/".concat(l,"/benchmark/").concat(t.id,"/").concat(n.file),s,i)},benchmarkStart:function e(e){t.append("\n                <tr class='heading'>\n                    <th colspan='4'>\n                        <a href='https://github.com/pegjs/pegjs/blob/".concat(l,"/examples/").concat(e.id,".pegjs'> ").concat(e.title,' </a>\n                    </th>\n                </tr>"\n            '))},benchmarkFinish:function t(t,n,s){e("benchmark-total",t.title+" total",null,n,s)},start:function e(){$("#run-count, #cache, #run").attr("disabled","disabled"),t.show(),$("#results-table tr").slice(1).remove()},finish:function t(t,n){e("total","Total",null,t,n),$.scrollTo("max",{axis:"y",duration:500}),$("#run-count, #cache, #run").removeAttr("disabled")}})});$(document).ready(function(){return $("#run").focus()});if(t!=e)n.exports=e;return n.exports});